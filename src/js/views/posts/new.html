<!DOCTYPE html>
<div class="column is-half is-offset-one-quarter">
  <form name="postsNew.newForm" ng-submit="postsNew.create()" novalidate>
    <div class="field">
      <label for="title">Title</label>
      <input class="input" type="text" name="title" id="title" ng-model="postsNew.post.title" required>
      <div class="ng-message-error" ng-messages="postsNew.newForm.title.$error" ng-show="(postsNew.newForm.$submitted || postsNew.newForm.title.$touched)">
        <p ng-message="required">Please enter a title</p>
      </div>
    </div>
    <div class="field">
      <label for="body">Post Content</label>
      <textarea class="textarea" type="text" name="body" id="body" ng-model="postsNew.post.body" required></textarea>
      <div class="ng-message-error" ng-messages="postsNew.newForm.body.$error" ng-show="(postsNew.newForm.$submitted || postsNew.newForm.body.$touched)">
        <p ng-message="required">Please enter some content to your post!</p>
      </div>
    </div>
    <div class="field">
      <label for="base64">Image (Optional)</label>
      <input class="input" type="file" base64 name="base64" id="base64" ng-model="postsNew.post.base64">
    </div>
    <div class="field">
      <img ng-src="{{postsNew.post.base64}}" >
    </div>

    <div class="field topicDiv">
      <span ng-repeat="topic in postsNew.topics">
        <input id="{{ topic.name }}" class="topicInput" type="checkbox" name="topics" checklist-model="postsNew.post.topic_ids" checklist-value="topic.id" >
        <label class="topicLabel" for="{{ topic.name }}">
           {{ topic.name }}
        </label>
      </span>

    </div>


    <button class="button is-dark is-fullwidth btn-primary">Post</button>
  </form>
</div>
